pipeline 
{
	agent none
    
//    environment { 
//        JenkinsBase = 'jenkins/test/'
//    }
       
	stages { 
		stage('Initialize') 
		{
			agent any
            
			steps {
				timestamps {
					ansiColor('xterm') {
						sh('hostname')
						sh('pwd')
						sh ('env');
						sh('ls -lvhc')
					}
				}
			}
		}
                   
		stage('Git Checkout')
		{
			agent any
			steps 
			{
				timestamps { 
					ansiColor('xterm') {
						
						dir('coresoftware') {
							git url: 'https://github.com/sPHENIX-Test/coresoftware.git'
						}
						dir('online_distribution') {
							git url: 'https://github.com/sPHENIX-Test/online_distribution.git'
						}
						dir('macros')
						{
							git credentialsId: 'sPHENIX-bot', url: 'https://github.com/sPHENIX-Collaboration/macros.git'
    				}	
						dir('calibrations')
						{
							git branch: '${sha1}', credentialsId: 'sPHENIX-bot', url: 'https://github.com/sPHENIX-Collaboration/calibrations.git'
    				}	
						dir('tutorials')
						{
							git branch: '${sha1}', credentialsId: 'sPHENIX-bot', url: 'https://github.com/sPHENIX-Collaboration/tutorials.git'
    				}	
					}
				}
			}
		}//stage('SCM Checkout')
	}//stages
}//pipeline 

